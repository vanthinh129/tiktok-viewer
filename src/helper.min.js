const helper = {
    delay: function (time) {
        return new Promise((r) => setTimeout(()=>{
          return r()
        }, time))
    },
    getString: function (test_str, text_begin, text_end, index) {
        var fromIndex = index || 1
        if (!test_str || test_str == '') {
          return ''
        }
        var start_pos = helper.getPosition(
          test_str.toString(),
          text_begin,
          fromIndex
        )
        if (start_pos < 0 || start_pos == test_str.length) {
          return ''
        }
        start_pos += text_begin.length
        var end_pos = test_str.indexOf(text_end, start_pos)
        if (end_pos == -1) end_pos = test_str.length
        var text_to_get = test_str.substring(start_pos, end_pos)
        if (text_to_get == test_str) return ''
        return text_to_get
    },
    getPosition: function (string, subString, index) {
        return string.split(subString, index).join(subString).length
    },
}

module.exports = helper